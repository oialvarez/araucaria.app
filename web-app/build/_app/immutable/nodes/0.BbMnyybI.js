import{s as k,c as S,u as z,g as $,a as q,b as F,o as P}from"../chunks/B2QSKqcC.js";import{S as R,i as B,d as m,t as G,a as J,b as H,c as f,e as h,f as p,g as v,h as L,j as M,k as g,s as T}from"../chunks/DUA33kkY.js";import{g as K,o as O}from"../chunks/BvtAnBkQ.js";import{a as Q,g as W,d as X,b as Y,c as Z}from"../chunks/DE09AEA1.js";import{w as ee,g as j}from"../chunks/CdUBtvoF.js";const ae=ee({uid:null,email:null,displayName:null,rol:null,colegioId:null,hijos:[],loading:!1});onAuthStateChanged(Q,async r=>{if(authUser)try{const s=(await W(X(Y,"usuarios",authUser.uid))).data();r.set({...s,uid:authUser.uid,email:authUser.email,displayName:authUser.displayName,loading:!1})}catch(e){console.error("Error loading user data:",e),r.set({uid:authUser.uid,email:authUser.email,displayName:authUser.displayName,rol:null,colegioId:null,hijos:[],loading:!1})}else r.set({uid:null,email:null,displayName:null,rol:null,colegioId:null,hijos:[],loading:!1})});function C(r){let e,s='<div><button type="button" class="bg-white rounded-full flex text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"><span class="sr-only">Abrir men√∫</span> <img class="h-8 w-8 rounded-full" src="https://via.placeholder.com/32" alt=""/></button></div>';return{c(){e=g("div"),e.innerHTML=s,this.h()},l(t){e=p(t,"DIV",{class:!0,"data-svelte-h":!0}),L(e)!=="svelte-1r0rcz1"&&(e.innerHTML=s),this.h()},h(){h(e,"class","ml-3 relative")},m(t,n){H(t,e,n)},d(t){t&&m(e)}}}function se(r){let e,s,t,n,d,w='<div class="flex-shrink-0 flex items-center"><a href="/" class="text-xl font-bold text-gray-800">Araucaria</a></div> <nav class="ml-10 flex items-center space-x-4 lg:space-x-8"><a href="/dashboard" class="text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium">Dashboard</a> <a href="/avisos" class="text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium">Avisos</a> <a href="/tareas" class="text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium">Tareas</a></nav>',x,u,a,_,y,b,i=r[0]&&C();const I=r[4].default,o=S(I,r,r[3],null);return{c(){e=g("div"),s=g("header"),t=g("div"),n=g("div"),d=g("div"),d.innerHTML=w,x=T(),u=g("div"),i&&i.c(),a=T(),_=g("main"),y=g("div"),o&&o.c(),this.h()},l(l){e=p(l,"DIV",{class:!0});var c=v(e);s=p(c,"HEADER",{class:!0});var E=v(s);t=p(E,"DIV",{class:!0});var U=v(t);n=p(U,"DIV",{class:!0});var D=v(n);d=p(D,"DIV",{class:!0,"data-svelte-h":!0}),L(d)!=="svelte-1wbwvlf"&&(d.innerHTML=w),x=M(D),u=p(D,"DIV",{class:!0});var A=v(u);i&&i.l(A),A.forEach(m),D.forEach(m),U.forEach(m),E.forEach(m),a=M(c),_=p(c,"MAIN",{class:!0});var N=v(_);y=p(N,"DIV",{class:!0});var V=v(y);o&&o.l(V),V.forEach(m),N.forEach(m),c.forEach(m),this.h()},h(){h(d,"class","flex"),h(u,"class","flex items-center"),h(n,"class","flex justify-between h-16"),h(t,"class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"),h(s,"class","bg-white shadow"),h(y,"class","px-4 py-6 sm:px-0"),h(_,"class","max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"),h(e,"class","min-h-screen bg-gray-100")},m(l,c){H(l,e,c),f(e,s),f(s,t),f(t,n),f(n,d),f(n,x),f(n,u),i&&i.m(u,null),f(e,a),f(e,_),f(_,y),o&&o.m(y,null),b=!0},p(l,[c]){l[0]?i||(i=C(),i.c(),i.m(u,null)):i&&(i.d(1),i=null),o&&o.p&&(!b||c&8)&&z(o,I,l,l[3],b?q(I,l[3],c,null):$(l[3]),null)},i(l){b||(J(o,l),b=!0)},o(l){G(o,l),b=!1},d(l){l&&m(e),i&&i.d(),o&&o.d(l)}}}function te(r,e,s){let t;F(r,ae,a=>s(2,t=a));let{$$slots:n={},$$scope:d}=e,w,x=null,u=!1;return P(async()=>{try{await new Promise(a=>setTimeout(a,1e3)),w=K(Z),s(1,u=!0),O(w,a=>{s(0,x=a),a||j("/login")})}catch(a){console.error("Error inicializando Firebase:",a)}}),r.$$set=a=>{"$$scope"in a&&s(3,d=a.$$scope)},r.$$.update=()=>{if(r.$$.dirty&6&&u){const a=t;!a.uid&&!a.loading&&j("/login")}},[x,u,t,d,n]}class ue extends R{constructor(e){super(),B(this,e,te,se,k,{})}}export{ue as component};
